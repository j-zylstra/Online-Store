parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"mpVp":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(){"use strict";e=function(){return r};var n,r={},o=Object.prototype,c=o.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(n){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof b?e:b,c=Object.create(o.prototype),i=new q(r||[]);return a(c,"_invoke",{value:I(t,n,i)}),c}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=f;var h="suspendedStart",m="suspendedYield",v="executing",y="completed",g={};function b(){}function w(){}function E(){}var O={};d(O,u,function(){return this});var L=Object.getPrototypeOf,S=L&&L(L(B([])));S&&S!==o&&c.call(S,u)&&(O=S);var k=E.prototype=b.prototype=Object.create(O);function x(t){["next","throw","return"].forEach(function(e){d(t,e,function(t){return this._invoke(e,t)})})}function j(e,n){function r(o,a,i,u){var s=p(e[o],e,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==t(d)&&c.call(d,"__await")?n.resolve(d.__await).then(function(t){r("next",t,i,u)},function(t){r("throw",t,i,u)}):n.resolve(d).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,u)})}u(s.arg)}var o;a(this,"_invoke",{value:function(t,e){function c(){return new n(function(n,o){r(t,e,n,o)})}return o=o?o.then(c,c):c()}})}function I(t,e,r){var o=h;return function(c,a){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===c)throw a;return{value:n,done:!0}}for(r.method=c,r.arg=a;;){var i=r.delegate;if(i){var u=N(i,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var s=p(t,e,r);if("normal"===s.type){if(o=r.done?y:m,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=y,r.method="throw",r.arg=s.arg)}}}function N(t,e){var r=e.method,o=t.iterator[r];if(o===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=n,N(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var c=p(o,t.iterator,e.arg);if("throw"===c.type)return e.method="throw",e.arg=c.arg,e.delegate=null,g;var a=c.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function q(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function B(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(c.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}throw new TypeError(t(e)+" is not iterable")}return w.prototype=E,a(k,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,l,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,d(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},r.awrap=function(t){return{__await:t}},x(j.prototype),d(j.prototype,s,function(){return this}),r.AsyncIterator=j,r.async=function(t,e,n,o,c){void 0===c&&(c=Promise);var a=new j(f(t,e,n,o),c);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},x(k),d(k,l,"Generator"),d(k,u,function(){return this}),d(k,"toString",function(){return"[object Generator]"}),r.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},r.values=B,q.prototype={constructor:q,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,o){return i.type="throw",i.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=c.call(a,"catchLoc"),s=c.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:B(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),g}},r}function n(t,e,n,r,o,c,a){try{var i=t[c](a),u=i.value}catch(s){return void n(s)}i.done?e(u):Promise.resolve(u).then(r,o)}function r(t){return function(){var e=this,r=arguments;return new Promise(function(o,c){var a=t.apply(e,r);function i(t){n(a,o,c,i,u,"next",t)}function u(t){n(a,o,c,i,u,"throw",t)}i(void 0)})}}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(e){var n=u(e,"string");return"symbol"==t(n)?n:String(n)}function u(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}var s=document.querySelector(".cart-items"),l=document.querySelector(".products"),d=document.querySelector(".subtotal"),f=document.querySelector(".quantity");document.addEventListener("DOMContentLoaded",function(){[{id:"home",url:"index.html"},{id:"sale",url:"sale"},{id:"review",url:"reviews"},{id:"cart-link",url:"cart"},{id:"new",url:"new"},{id:"bass",url:"bass"},{id:"classic",url:"classic"},{id:"accessories",url:"accessories"}].forEach(function(t){var e=document.getElementById(t.id);e&&e.addEventListener("click",function(){return function(t){console.log("Clicked on",t.id),window.location=t.url,console.log("New URL:",window.location),E()}(t)})}),window.location.pathname.endsWith("cart")&&(L(),O()),window.location.pathname.endsWith("sale")&&w()});var p={"/new":"new","/bass":"bass","/classic":"classic","/accessories":"accessories"};function h(t){var e="";t.forEach(function(t){e+='\n            <div class="cart-item">\n                <div class="item-info">\n                    <img src="'.concat(t.product.imgsrc,'" alt="').concat(t.product.name,'">\n                        <h4>').concat(t.product.name,'</h4>\n                        <span><ion-icon class="icon-close" onclick="removeItemFromCart(').concat(t.id,')" name="close-circle-outline"></ion-icon></span>\n                </div>\n                <div class="unit-price">\n                    <h2><small>$</small>').concat(t.product.price,'</h2>\n                </div>\n                <div class="units">\n                    <div class="btn minus" onclick="changeNumberOfUnits(\'minus\', ').concat(t.product.id,')">-</div>\n                    <div class="number">').concat(t.numberOfUnits,'</div>\n                    <div class="btn plus" onclick="changeNumberOfUnits(\'plus\', ').concat(t.product.id,')">+</div>\n                </div>\n            </div>')}),s.innerHTML=e}function m(t){var e=localStorage.getItem("cart"),n=e?JSON.parse(e):[];fetch("https://aqueous-ocean-91362-9acaca4dceea.herokuapp.com/products/".concat(t)).then(function(t){return t.json()}).then(function(e){var r=n.find(function(e){return e.product.id===t});r?r.numberOfUnits<e.instock?r.numberOfUnits++:console.warn("exceeded available stock for this product."):n.push({product:e,numberOfUnits:1}),localStorage.setItem("cart",JSON.stringify(n)),E()}).catch(function(t){console.error("Error:",t)})}function v(t,e){var n=localStorage.getItem("cart"),r=n?JSON.parse(n):[];r=r.map(function(n){if(n.product.id===e){var r=n.numberOfUnits;return"minus"===t&&r>1?r--:"plus"===t&&r<n.product.instock&&r++,c(c({},n),{},{numberOfUnits:r})}return n}),localStorage.setItem("cart",JSON.stringify(r)),L()}function y(t,e){var n=0,r=0;cart.forEach(function(t){n+=t.product.price*t.numberOfUnits,r+=t.numberOfUnits}),d.innerHTML="Subtotal (".concat(r," items): $").concat(n.toFixed(2)),f.innerHTML=r}function g(t){var e=localStorage.getItem("cart"),n=e?JSON.parse(e):[],r=n.findIndex(function(e){return e.id===t});-1!==r&&(n.splice(r,1),localStorage.setItem("cart",JSON.stringify(n)),L(),O())}function b(t){var e=document.querySelector(".".concat(t,"Products")),n=window.location.pathname.split("/").pop().replace(".html","");fetch("https://aqueous-ocean-91362-9acaca4dceea.herokuapp.com/products/type/".concat(n)).then(function(t){return t.json()}).then(function(n){console.log(n),n.forEach(function(n){if(n.type===t){var r=document.createElement("div");r.classList.add("card-border"),r.innerHTML='\n                            <img class="card" src="'.concat(n.imgsrc,'" alt="">\n                            <h3>').concat(n.name,'</h3>\n                            <h2 id="price"><small>$</small>').concat(n.price,'</h2>\n                            <button type="button" onclick="addToCart(').concat(n.id,')">Add To Cart</button>\n                        '),e.appendChild(r)}})}).catch(function(t){console.log("Error:",t)})}function w(){var t=document.querySelector(".saleProducts");fetch("https://aqueous-ocean-91362-9acaca4dceea.herokuapp.com/products/type/sale").then(function(t){return t.json()}).then(function(e){console.log(e),e.forEach(function(e){var n=document.createElement("div");n.classList.add("card-border"),n.innerHTML='\n                            <img class="card" src="'.concat(e.imgsrc,'" alt="">\n                            <h3>').concat(e.name,'</h3>\n                            <h2 id="old-price"><small>$</small>').concat(e.oldprice,'</h2>\n                            <h2 id="price"><small>$</small>').concat(e.price,'</h2>\n                            <button type="button" onclick="addToCart(').concat(e.id,')">Add To Cart</button>\n                        '),t.appendChild(n)})}).catch(function(t){console.log("Error:",t)})}function E(){var t=document.querySelector(".quantity"),e=localStorage.getItem("cart"),n=(e?JSON.parse(e):[]).reduce(function(t,e){return t+e.numberOfUnits},0);t.textContent=n}function O(){var t=document.getElementById("empty-cart-message"),e=document.getElementById("cart-container"),n=localStorage.getItem("cart");0===(n?JSON.parse(n):[]).length?(e.style.display="none",t.style.display="block"):(e.style.display="block",t.style.display="none")}function L(){var t=localStorage.getItem("cart");t&&(cart=JSON.parse(t)),h(cart),y(),E()}document.addEventListener("DOMContentLoaded",function(){var t=window.location.pathname,e=p[t];e&&b(e)}),document.addEventListener("DOMContentLoaded",r(e().mark(function t(){var n,o,c,a,i,u;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=function(t){var e=document.getElementById("reviewsList"),n=document.createElement("div");n.innerHTML='<div class="user-review">\n                                    <h2>'.concat(t.userName,'</h2>\n                                    <p>"').concat(t.content,'"</p>\n                                </div>'),e.appendChild(n)},i=function(){return(i=r(e().mark(function t(){var n,r,o;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://aqueous-ocean-91362-9acaca4dceea.herokuapp.com/reviews/DB",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("Error: ".concat(n.status," - ").concat(n.statusText));case 6:return t.next=8,n.text();case 8:return r=t.sent,t.prev=9,o=JSON.parse(r),console.log("Fetched reviews:",o),t.abrupt("return",o||[]);case 15:return t.prev=15,t.t0=t.catch(9),console.error("Error parsing JSON:",t.t0),t.abrupt("return",[]);case 19:t.next=25;break;case 21:return t.prev=21,t.t1=t.catch(0),console.error(t.t1.message),t.abrupt("return",[]);case 25:case"end":return t.stop()}},t,null,[[0,21],[9,15]])}))).apply(this,arguments)},a=function(){return i.apply(this,arguments)},n=document.getElementById("reviewForm"),o=document.getElementById("reviewContent"),n&&n.addEventListener("submit",function(){var t=r(e().mark(function t(n){var r,c,a,i;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=o.value,c=sessionStorage.getItem("userId"),t.prev=3,t.next=6,fetch("https://aqueous-ocean-91362-9acaca4dceea.herokuapp.com/reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:c,comment:r})});case 6:if(!(a=t.sent).ok){t.next=15;break}return t.next=10,a.json();case 10:""!==(i=t.sent).content.trim()?u(i):console.error("Received an empty review from the server:",i),o.value="",t.next=16;break;case 15:console.error("Error: ".concat(a.status," - ").concat(a.statusText));case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(3),console.error(t.t0);case 21:case"end":return t.stop()}},t,null,[[3,18]])}));return function(e){return t.apply(this,arguments)}}()),"https://riff-wired-27891913b14e.herokuapp.com/reviews"!==window.location.href){t.next=17;break}return t.prev=7,t.next=10,a();case 10:c=t.sent,Array.isArray(c)?c.forEach(function(t){return u(t)}):c&&Array.isArray(c.reviews)?c.reviews.forEach(function(t){return u(t)}):console.error("Unable to find reviews in the response:",c),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),console.error(t.t0);case 17:case 18:case"end":return t.stop()}},t,null,[[7,14]])})));var S=document.querySelector(".wrapper"),k=document.querySelector(".login-link"),x=document.querySelector(".register-link"),j=document.querySelector(".btnLogin-popup"),I=document.querySelector(".icon-close");function N(){try{var t=document.getElementById("emailInput").value;t?alert("A confirmation email has been sent to "+t+". You are now subscribed to the mailing list."):alert("Please enter a valid email address.")}catch(e){console.error("Error in subscribe function:",e)}}document.addEventListener("click",function(t){var e=t.target;e===x&&S.classList.add("active"),e===k&&S.classList.remove("active"),e===j&&S.classList.add("active-popup"),e===I&&(t.preventDefault(),S.classList.remove("active-popup"))}),document.getElementById("check").addEventListener("click",function(){var t=document.getElementById("bottom-menu").getElementsByTagName("ul")[0],e=document.getElementById("nav-list");"-100%"===t.style.left?(t.style.left="0",e.style.backdropFilter="blur(30px)"):(t.style.left="-100%",e.style.backdropFilter="blur(0)")}),document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("login");t&&t.addEventListener("click",function(){var t=document.getElementById("bottom-menu").getElementsByTagName("ul")[0];window.innerWidth<613&&(t.style.left="-100%")})});var T=document.getElementById("close-login");T&&T.addEventListener("click",function(){var t=document.getElementById("bottom-menu").getElementsByTagName("ul")[0];window.innerWidth<613&&(t.style.left="0")});
},{}]},{},["mpVp"], null)
//# sourceMappingURL=/script.2d78957e.js.map